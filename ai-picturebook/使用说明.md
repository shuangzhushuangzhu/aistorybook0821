# AI绘本工坊 - 使用说明

## 问题解决：网络连接失败

如果你遇到"网络连接失败"的问题，这是因为浏览器的CORS（跨域资源共享）限制。以下是几种解决方案：

## 方案一：使用本地代理服务器（推荐）

### 1. 安装Python依赖
```bash
pip install requests
```

### 2. 启动本地服务器
在项目目录下运行：
```bash
python server.py
```

### 3. 使用代理配置
将 `config-proxy.js` 重命名为 `config.js`，或者修改 `debug.html` 中的配置引用：
```html
<script src="config-proxy.js"></script>
```

### 4. 访问应用
在浏览器中访问：
- 调试工具：http://localhost:8000/debug.html
- 主应用：http://localhost:8000/index.html

## 方案二：使用浏览器CORS插件

### Chrome浏览器
1. 安装 "CORS Unblock" 或 "Allow CORS" 插件
2. 启用插件
3. 直接打开 `debug.html` 文件

### Firefox浏览器
1. 安装 "CORS Everywhere" 插件
2. 启用插件
3. 直接打开 `debug.html` 文件

## 方案三：使用Node.js服务器

如果你有Node.js环境，可以创建一个简单的服务器：

```javascript
// server.js
const express = require('express');
const cors = require('cors');
const { createProxyMiddleware } = require('http-proxy-middleware');

const app = express();
app.use(cors());

// 代理火山引擎API
app.use('/api/proxy', createProxyMiddleware({
  target: 'https://ark.cn-beijing.volces.com',
  changeOrigin: true,
  pathRewrite: {
    '^/api/proxy': ''
  }
}));

app.use(express.static('.'));

app.listen(3000, () => {
  console.log('服务器运行在 http://localhost:3000');
});
```

## 调试步骤

1. **检查配置**：确认API密钥和模型配置正确
2. **测试网络**：使用改进的网络测试功能
3. **测试API**：分别测试图片和文本生成
4. **查看控制台**：按F12查看详细错误信息

## 常见错误及解决方案

### CORS错误
- 使用本地代理服务器
- 安装浏览器CORS插件
- 使用Node.js代理服务器

### API密钥错误
- 检查 `config.js` 中的 `accessKey` 是否正确
- 确认火山引擎控制台中的API密钥有效

### 模型不存在错误
- 检查模型名称是否正确
- 确认已开通相应的AI服务

### 网络超时
- 检查网络连接
- 增加请求超时时间
- 使用代理服务器

## 技术支持

如果问题仍然存在，请：
1. 查看浏览器控制台的详细错误信息
2. 运行调试工具并记录测试结果
3. 检查火山引擎控制台的服务状态

